# 技術_1_網路與通訊安全
- CISSP　第五章 Communication and Network Security 通訊與網路安全
  - OSI Module 1: 七層與 TCP/IP 模型
  - Module 2: 第一層：實體層
  - Module 3: 第二層：資料連結層
  - Module 4: 第三層：網路層
  - Module 5: 第四層：傳輸層
  - Module 6: 第五層：會談層
  - Module 7: 第六層：表現層
  - Module 8: 第七層：應用層
  - Module 9: 網路架構之安全設計原則
  - Module 10: 網路元件安全
  - Module 11: 基於設計建置通訊通道安全

## OSI 七層 && 攻擊手法
[維基百科](https://zh.wikipedia.org/wiki/OSI%E6%A8%A1%E5%9E%8B)
[TCP/IP協定](https://zh.wikipedia.org/wiki/TCP/IP%E5%8D%8F%E8%AE%AE%E6%97%8F)
### 第7層 應用層（Application Layer）
```
提供為應用軟體而設計的使用者介面；
存取網路資源服務、管理服務、遠端存取服務
功能：檔案、印表、訊息、資料庫、應用服務等
例如：
### HTTP
超文本傳輸協定（英語：HyperText Transfer Protocol，縮寫：HTTP）
HTTP是一個客戶端（使用者）和伺服器端（網站）之間請求和應答的標準
預設埠為80

### SMTP
SMTP 伺服器通常使用連接埠號25（用於便文字）和 587（用於加密通信）上的傳輸控制協定。
電子郵件用戶端需要瞭解其初始 SMTP 伺服器的 IP 位址，並且必須將其作為配置的一部分（通常作為DNS名稱提供）。此伺服器將代表使用者傳遞傳出的消息。
郵件伺服器之間的通信通常使用 SMTP 指定的標準TCP連接埠 25。
### SNMP
簡單網路管理協定（SNMP），用於收集和組織有關IP網路上管理設備的資訊，以及修改該資訊以改變設備行為
通常支援SNMP的設備包括電纜數據機、路由器、交換機、伺服器、工作站、印表機等
SNMP 管理網路由三個關鍵元件組成：
託管設備
代理- 在託管設備上運行的軟體
網路管理站（NMS） - 在管理員上運行的軟體
### FTP
檔案傳輸協定（FTP）是用於將電腦檔案從伺服器傳輸到電腦網路上的用戶端的標準通訊協定
### Telnet
TELNET使用於網際網路及區域網中，使用虛擬終端機的形式，提供以文字為主的命令列介面互動功能
### SIP
對話啟動協定（Session Initiation Protocol，縮寫SIP）
作為標準被提議用於建立，修改和終止包括影片，語音，即時通訊，線上遊戲和虛擬實境等多種多媒體元素在內的互動式使用者對談
SIP的設計目標之一是提供類似公用交換電話網（PSTN）中呼叫處理功能的擴充集。
在這個擴充集中，實現類似日常電話的操作：撥號，振鈴，回鈴音或者忙音，只是實現方式和術語有所不同。
### SSH
SSH安全外殼協定（Secure Shell）
一種加密的網路傳輸協定，可在不安全的網路中提供安全的傳輸環境
人們通常利用SSH來傳輸命令列介面和遠端執行命令
### NFS
網路檔案系統（英語：Network File System，縮寫作 NFS）是一種分散式檔案系統，
客戶端主機可以存取伺服器端檔案，並且其過程與存取本地儲存時一樣
### RTSP
即時串流協定（Real Time Streaming Protocol，RTSP），專為娛樂和通信系統的使用，以控制串流媒體伺服器
該協定用於建立和控制終端之間的媒體對談。
媒體伺服器的客戶端發布VCR命令，例如播放，錄製和暫停，以便於即時控制從伺服器到客戶端（影片點播）或從客戶端到伺服器（語音錄音）的媒體流。
### XMPP
可延伸訊息與存在協定（英語：Extensible Messaging and Presence Protocol，縮寫：XMPP)
XMPP協議是自由、開放、公開的，並且易於瞭解。而且在客戶端、伺服器、元件、原始碼庫等方面，都已經各自有多種實作。
### Whois
WHOIS通常使用TCP協定43埠
是用來查詢網際網路中域名的IP以及所有者等資訊的傳輸協定

### TLS
傳輸層安全性協定（英語：Transport Layer Security，縮寫：TLS）
及其前身安全通訊協定（英語：Secure Sockets Layer，縮寫：SSL）是一種安全協定，目的是為網際網路通訊提供安全及資料完整性保障
TLS協定採用主從式架構模型，用於在兩個應用程式間透過網路建立起安全的連線，防止在交換資料時受到竊聽及篡改。

###ENRP
```
```
常見攻擊手法：
### DNS Poisoning
DNS 快取記憶體中毒是向 DNS 快取記憶體中輸入錯誤資訊的行為，以便使 DNS 查詢返回錯誤回應並將使用者導向到錯誤網站。DNS 快取記憶體中毒也稱為「DNS 詐騙」
。IP 位址是網際網路的「教室編號」，其能夠使網路流量到達正確位置。DNS 解析程式快取記憶體是「校園目錄」
，當它們儲存錯誤資訊時，流量將轉向錯誤位置，直到快取的資訊被更正為止。(注意，這實際上並未斷開真實網站與其真實 IP 位址的連接。)
### Brute force Login
暴力破解（英語：Brute-force attack）
是一種密碼分析的方法，將密碼逐個推算直到找出真正的密碼為止
字元類型一般可以分為以下5種：
阿拉伯數字：0~9（10個）
大寫字母：（26個）
小寫字母：（26個）
特殊字元：!、#、$、%、~等等（33個），一般較少使用。
使用者自訂字元
如果一個多位數並且包含以上所有可能字元的密碼，其組合方法一定多的驚人，且每增加一位數，
密碼組合數量會以數十倍指數成長（例如：包含數字及字母大小寫，共62個字元的10位數的密碼，共有62^10約83.9X10^16ㄍ組合)

### SQL Injection
SQL注入（英語：SQL injection）
是發生於應用程式與資料庫層的安全漏洞
是在輸入的字串之中夾帶SQL指令，在設計不良的程式當中忽略了字元檢查，
那麼這些夾帶進去的惡意指令就會被資料庫伺服器誤認為是正常的SQL指令而執行，因此遭到破壞或是入侵
### Cross-Site Scripting
跨網站指令碼（英語：Cross-site scripting，通常簡稱為：XSS）
它允許惡意使用者將程式碼注入到網頁上，其他使用者在觀看網頁時就會受到影響。
XSS攻擊通常指的是通過利用網頁開發時留下的漏洞，通過巧妙的方法注入惡意指令代碼到網頁，使使用者載入並執行攻擊者惡意製造的網頁程式

```

### 第6層 表達層（Presentation Layer）
```
將來自本地端應用程式的資料格式轉換(或者是重新編碼)成為網路的標準格式。
例如：編碼語解碼、加解密、字元轉換、資料形態轉換、ASCII、EDCDIC轉換、翻譯
      XDR、ASN.1、SMB、AFP、NCP
```

### 第5層 會議層（Session Layer）
```
維護電腦網路中兩台電腦之間的通訊連接
例如：ASAP、ISO 8327 / CCITT X.225、RPC、NetBIOS、ASP、IGMP、Winsock、BSD sockets
```

### 第4層 傳輸層（Transport Layer）
```
流量控制、錯誤偵測與修正
例如：
### TCP
TCP(Transmission Control Protocol)
TCP 是一個連線導向(Connection Oriented)的可靠傳輸
TCP:能夠確保資料傳輸的完整性，但相對的必定會造成傳輸效率不彰
### UDP
UDP(User Datagram Protocol)
UDP 是一個非連線型(Connectionless)的不可靠傳輸協定
UDP:傳輸效率較高，但無法確保資料傳輸的完整性，如果要彌補這項缺點就必須在應用層上加上確認的機制來達到可靠性。

### RTP
即時運輸協定（RTP），通過IP網路傳輸音訊和視頻。
RTP用於涉及串流媒體的通訊和娛樂系統，如電話、視訊電話會議應用程式

### SCTP
串流控制傳輸協定（英語：Stream Control Transmission Protocol，縮寫：SCTP）
SCTP主要的貢獻是對多重聯外線路的支援，一個端點可以由多於一個 IP地址 組成，使得傳輸可在主機間或網卡間做到透明的網路容錯備援。

、SPX
、ATP
、IL
```
```
---- TCP(Transmission Control Protocol) ----
        可靠的一對一連接(三項交握)，確保兩端都有收到每個封包，並且封包被正確的解碼與排序
  
        [在TCP協定上的協定]
            HTTP（Hypertext Transfer Protocol，超文字傳輸協定）
            HTTPS（Hypertext Transfer Protocol over Secure Socket Layer, or HTTP over SSL，安全超文字傳輸協定）
            FTP（File Transfer Protocol，檔案傳輸協定）
            POP3（Post Office Protocol, version 3，郵局協定）
            郵局協定為使用者用戶端申請郵件伺服器上維護的郵箱（郵件滴）提供通過互聯網協定（IP） 網路的訪問。該協定支援對郵件的下載和刪除操作。
            POP3 用戶端連接、檢索所有消息、將其存儲在用戶端電腦上，最後從伺服器中刪除它們。
            POP3 伺服器在著名的埠110 上收聽服務請求。
            SMTP（Simple Mail Transfer Protocol，簡單郵件傳輸協定）
            TELNET（Teletype over the Network，網路電傳）
            SSH（Secure Shell，用於替代安全性差的TELNET）
  
---- UDP(User Datagram Protocol) ----
        不可靠的非連接傳輸，速度比TCP快，適合傳輸小封包
  
        [在UDP協定上的協定]
            BOOTP（Boot Protocol，啟動協定）
            NTP（Network Time Protocol，網路時間協定）
            DHCP（Dynamic Host Configuration Protocol，動態主機組態協定）
```
```
常見攻擊手法：
### SYN Flood
SYN flood是一種阻斷服務攻擊，起因於攻擊者傳送一系列的SYN請求到目標系統
惡意使用者可以跳過傳送最後的ACK資訊
在SYN裡透過欺騙來源IP位址，這讓伺服器送SYN-ACK到假造的IP位址，因此永不可能收到ACK
### DDoS
阻斷服務攻擊（英語：denial-of-service attack，簡稱DoS攻擊）亦稱洪水攻擊，
使目標電腦的網路或系統資源耗盡，使服務暫時中斷或停止，導致其正常使用者無法存取。
其特點是利用殭屍程式通過偽造的攻擊目標IP向某些存在漏洞的伺服器傳送請求，伺服器在處理請求後向偽造的攻擊目標IP傳送應答，
由於這些服務的特殊性導致應答包比請求包更長，因此使用少量的寬頻就能使伺服器傳送大量的應答到目標主機上。
### Session Hijacking
連線劫持（Session hijacking），是一種網路攻擊手段，駭客可以通過破壞已建立的資料流而實現劫持。

```
### 第3層 網路層（Network Layer）
```
負責安排路徑、設定IP位址與封裝
例如：IP、ICMP、IPX、BGP、OSPF、RIP、IGRP、EIGRP、ARP、RARP、X.25、路由器
```
```
常見攻擊手法：
Source Route、Smurf 、Ping of Death 
```
### 第2層 資料連結層（Data Link Layer）
```
[1]邏輯連結控制(Logical Link Control, 簡稱LLC)
  與網路層連接，管理兩端連線並控制資料流動與順序
[2]媒介存取控制(Media Access Control, 簡稱MAC)
  與實體層連接，經過纜線在兩端之間傳送訊框(frame)
  
此層負責轉換網路層的「封包」與實體層的「訊號」，
並透過checksum的機制檢查實體層傳來的訊號日否正確，
若有錯誤則要求重送。

在這一層當中就制訂了 frame 的格式以及通過網路的方式。
包括訊框的資料格式、錯誤控制、流量控制、檢查資料傳輸錯誤的方法，
例如：乙太網路、權杖環、HDLC、ISDN、ATM、IEEE 802.11、FDDI、PPP
      MAC(media accesscontrol)、Physical address、Bridge、Switch
```
```
常見攻擊手法：
封包監聽與ARP Spoofing
```
### 第1層 實體層（Physical Layer）
```
在硬體上傳送數位訊號，各種硬體標準，傳輸時電壓的規範等等
例如：集線器(Repeater 1轉1)、中繼器(Hub 1轉多)、線路、無線電、光纖、針腳、電壓、線纜規範、網卡、主機介面卡
```
```
常見攻擊手法：
線路搭接與線路私接
```

## 常見PORT
|      用途     |                                      名稱                                      |             Port            |
| ------------- | ----------------------------------------------------------------------------- | --------------------------- |
|    檔案傳輸    |                         File Transfer Protocol, FTP                           |              21             | 
|  安全遠端登錄  |                             Secure Shell, SSH                                 |              22             | 
|    遠端登錄    |                                   Telnet                                      |              23             | 
|  簡單郵件傳輸  |                    Simple Mail Transfer Protocol, SMTP                        |              25             | 
|  網域名稱服務  |                          Domain Name Service, DNS                             |              53             | 
|   超文本傳輸   |                      HyperText Transport Protocol, http                       |              80             | 
|    郵件接收    |                     Post Office Protocol Version 3, POP3                      |              110            | 
|    網路時間    |                         Network Time Protocol, NTP                            |              123            | 
| 安全超文本傳輸 |                    Hypertext Transfer Protocol Secure, https                   |             443            | 
|    網路芳鄰    | 使用SMB (Simple Message Block)，<br>用NetBIOS來尋找設備 Linux 的Samba即為SMB軟體 | UDP137,138<br>TCP 139, 445 | 



# 無線網路
```
家用無線電話
衛星電視
行動電話
藍芽 (Bluetooth)
LTE-A
LTE
WCDMA
CDMA2000
EDGE
GSM
Wi-Fi
WiMax
ZigBee
Z-Wave
```
# 無線區域網路
```
無線區域網路 (wireless LAN or WLAN) 的標準為802.11系列，由IEEE在1997年制定
Wired Equivalent Privacy (WEP) 
```
# 無線網路攻擊手法
```
竊聽 (eavesdropping)
開放身分認證 (open authentication)
拒絕服務 (denial of service, DoS)
  身分認證洪水攻擊 (authentication flood attack) 
  解除授權洪水攻擊 (deauthentication flood attack)
  無線干擾攻擊 (network jamming attack) 
欺騙 (spoofing)
  欺騙基地台 (rogue access point) 
  孿生惡魔 (evil twin)
```



















